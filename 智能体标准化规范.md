# .iflow 智能体标准化规范 V1.0

## 📋 规范目标
统一.iflow项目中智能体的命名、文档结构和元数据格式，确保项目的一致性和可维护性。

## 🏗️ 目录结构规范

### 标准结构
```
.iflow/agents/
├── 📄 README.md                    # 智能体总览文档
├── 📄 agent_registry_v9.py         # 智能体注册表
├── 📂 [category]/                  # 分类目录
│   └── 📂 [agent-name]/           # 智能体专属目录
│       └── 📄 README.md           # 唯一文档入口
```

### 分类目录
- `analysis/` - 分析类智能体
- `architecture/` - 架构类智能体
- `development/` - 开发类智能体
- `operations/` - 运维类智能体
- `security/` - 安全类智能体
- `specialized/` - 专业类智能体
- `utility/` - 工具类智能体

## 📝 文档命名规范

### 文件名规则
- **唯一文档**：每个智能体目录只能包含一个`README.md`文件
- **禁止重复**：不允许存在与目录名相同的`.md`文件
- **统一入口**：所有智能体信息必须在`README.md`中提供

### 示例
```
✅ 正确：
agents/analysis/adaptive3-thinking/README.md

❌ 错误：
agents/analysis/adaptive3-thinking/adaptive3-thinking.md
agents/analysis/adaptive3-thinking/其他文档.md
```

## 🏷️ YAML前置元数据规范

### 标准格式
```yaml
---
name: [智能体名称]
description: "[功能描述]"
category: [分类]
complexity: [basic|intermediate|advanced]
mcp-servers: ['server1', 'server2']
personas: ['role1', 'role2']
tools: ['Tool1', 'Tool2', 'Tool3']
version: "1.0"
author: "iflow-team"
---
```

### 字段说明
| 字段 | 必填 | 说明 | 示例 |
|------|------|------|------|
| name | 是 | 智能体唯一标识 | `adaptive3thinking` |
| description | 是 | 功能描述 | "ADAPTIVE-3思考专家" |
| category | 是 | 所属分类 | `analysis` |
| complexity | 否 | 复杂度级别 | `advanced` |
| mcp-servers | 否 | 依赖的MCP服务器 | `['sequential']` |
| personas | 否 | 专家角色 | `['analyst']` |
| tools | 是 | 可用工具列表 | `['Read', 'Write']` |
| version | 否 | 版本号 | `1.0` |
| author | 否 | 作者信息 | `iflow-team` |

## 📖 文档内容结构

### 标准章节
1. **标题** - 智能体名称和指令
2. **触发条件** - 使用场景说明
3. **使用方法** - 指令格式
4. **行为流程** - 执行步骤
5. **MCP集成** - 服务器和角色配置
6. **工具协调** - 可用工具说明
7. **关键模式** - 核心功能模式
8. **示例** - 使用示例
9. **边界限制** - 能力范围说明

### 内容要求
- 使用中文编写
- 结构清晰，层次分明
- 示例具体，易于理解
- 避免重复和冗余内容

## 🔄 智能体命名规则

### 目录命名
- 使用连字符命名法（kebab-case）
- 全小写字母
- 避免特殊字符
- 语义清晰，便于理解

### 示例
```
✅ 正确：
adaptive3-thinking/
requirements-analyst/
system-architect/

❌ 错误：
adaptive3Thinking/
requirements_analyst/
system architect/
```

## 🛠️ 工具配置规范

### 标准工具列表
- `Read` - 文件读取
- `Write` - 文件写入
- `Edit` - 文件编辑
- `MultiEdit` - 多文件编辑
- `Bash` - 命令执行
- `Grep` - 文本搜索
- `Glob` - 文件匹配

### 工具选择原则
- 根据实际需求选择工具
- 避免过度授权
- 遵循最小权限原则

## 📊 质量检查清单

### 创建智能体时必须检查
- [ ] YAML元数据格式正确
- [ ] 文档结构完整
- [ ] 命名符合规范
- [ ] 工具配置合理
- [ ] 内容无重复
- [ ] 示例具体可用

### 更新维护时必须检查
- [ ] 版本号更新
- [ ] 依赖关系正确
- [ ] 内容时效性
- [ ] 链接有效性
- [ ] 格式一致性

## 🚨 常见错误避免

### 文件结构错误
- ❌ 同一目录多个.md文件
- ❌ 文件名与目录名重复
- ❌ 缺少README.md文件

### 元数据错误
- ❌ YAML格式错误
- ❌ 必填字段缺失
- ❌ 字段值类型错误

### 内容错误
- ❌ 中英文混用
- ❌ 结构层次混乱
- ❌ 示例不清晰

## 📋 迁移指南

### 现有智能体整改步骤
1. 检查当前文件结构
2. 合并重复文档到README.md
3. 更新YAML元数据格式
4. 删除冗余文件
5. 验证功能正常

### 新智能体创建步骤
1. 确定分类目录
2. 创建标准目录结构
3. 编写YAML元数据
4. 填充文档内容
5. 质量检查验证

## 🔧 工具支持

### 自动化检查工具
- 文件结构验证
- YAML格式检查
- 命名规范验证
- 内容重复检测

### 批量处理脚本
- 智能体文件整理
- 元数据统一更新
- 版本号批量修改
- 文档格式标准化

---

**注意**：本规范将根据项目发展持续更新完善，请定期查看最新版本。